syntax = "proto3";

package lightning_vend;

message DeviceData {
  // TODO - Replace `device_session_id` with `device_session_id_hash` since the raw value should not be sent over the wire except as a cookie.
  string device_session_id = 1;

  string display_name = 2;

  // TODO - Replace with the line below.
  // string owner_user_id = 3;
  string lightning_node_owner_pubkey = 3;

  repeated InventoryItem inventory = 4;

  repeated string supported_execution_commands = 5;
}

message InventoryItem {
  string display_name = 1;

  int32 price_sats = 2;

  // The command to run on the device upon successful item payment.
  // Differs from `execution_webhook` above because this is _not_ an
  // http/https string, but rather a command string that will be used
  // to call a LightningVend Device Command
  string execution_command = 3;
}